agent:
  service_name: telegen

selfTelemetry:
  listen: ":19090"
  prometheus_namespace: "telegen"

cloud:
  aws:
    enabled: true
    timeout: "200ms"
    refresh_interval: "15m"
    collect_tags: false
    tag_allowlist: []

queues:
  traces:  { mem_limit: "256Mi", max_age: "6h" }
  logs:    { mem_limit: "256Mi", max_age: "24h" }
  metrics: { mem_limit: "128Mi", max_age: "5m" }

backoff:
  initial: "500ms"
  max: "30s"
  multiplier: 2.0
  jitter: 0.2

exports:
  remoteWrite:
    mode: "active"
    tls:
      enable: false
      ca_file: ""
      cert_file: ""
      key_file: ""
      insecure_skip_verify: false
    endpoints:
      - url: "http://localhost:9009/api/v1/push"
        timeout: "5s"
        headers: {}
        tenant: ""
        compression: "gzip"
  otlp:
    send_mode: "failover"
    tls:
      enable: false
      ca_file: ""
      cert_file: ""
      key_file: ""
      insecure_skip_verify: false
    grpc:
      enabled: false
      endpoint: "otel-collector:4317"
      headers: {}
      insecure: true
      gzip: true
      timeout: "5s"
    http:
      enabled: true
      endpoint: "localhost:4318"
      traces_path: "/v1/traces"
      logs_path: "/v1/logs"
      headers: {}
      gzip: true
      timeout: "5s"

pipelines:
  metrics:
    also_expose_prometheus: true
  traces:
    enabled: true
  logs:
    enabled: true
    filelog:
      include: ["/var/log/*.log", "/var/log/*/*.log"]
      position_file: "/var/lib/telegen/positions.json"
  jfr:
    enabled: false
    input_dir: "/var/log/jfr"
    output_dir: "/var/log/jfr-json"
    poll_interval: "5s"
    sample_interval_ms: 10
    jfr_command: "jfr"
    workers: 2
    pretty_json: false
